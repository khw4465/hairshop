<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>hairshop</title>
    <link href="/css/adminHeader.css" rel="stylesheet">
    <link href="/css/adminSidebar.css" rel="stylesheet">
    <link href="/css/addStyle.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
<div th:replace="~{fragment/adminHeader :: adminHeader}"></div>
<div th:replace="~{fragment/adminSidebar :: adminSidebar}"></div>
<div id="container">
    <h1>스타일 사진 등록</h1>
    <table id="styleTable">
        <thead>
            <tr>
                <th scope="col">이미지</th>
                <th scope="col">카테고리1</th>
                <th scope="col">카테고리2</th>
                <th scope="col" id="addStyle">
                    <label id="addBtn">
                        <input type="button" value="추가" id="addStyleBtn" onclick="addStyle()">
                        <span>추가</span>
                    </label>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="style : ${styles}" class="styles" th:id="${style.id}">
                <td>
                    <form action="/img/upload" method="post" enctype="multipart/form-data">
                        <label class="btn-file">
                            <img th:src="${style.imgUrl}" class="styleImg">
                            <input type="file" id="inputFile" name="file" accept="image/*" onchange="changedImg(this)">
                            <span>+</span>
                        </label>
                    </form>
                </td>
                <td>
                    <select class="styleCategory1">
                        <option th:text="${style.category1}">카테고리 선택</option>
                        <option th:each="category : ${subCategories}" th:value="${category.name}" th:text="${category.name}"></option>
                    </select>
                </td>
                <td>
                    <select class="styleCategory2">
                        <option th:text="${style.category2}">카테고리 선택</option>
                        <option th:each="category : ${subCategories}" th:value="${category.name}" th:text="${category.name}"></option>
                    </select>
                </td>
                <td>
                    <button onclick="removeStyleRow(this)" class="deleteBtn">삭제</button>
                </td>
            </tr>
        </tbody>
    </table>
    <div id="saveBtn">
        <input type="button" value="스타일 등록" id="saveStyle" onclick="saveStyle()">
    </div>
</div>
<script th:inline="javascript">
    let styles = /*[[${styles}]]*/ '';
</script>
<script src="/js/addStyle.js"></script>
</body>
</html>